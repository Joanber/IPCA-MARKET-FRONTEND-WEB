<hr class="separador-pri w-100" />
<div class="text-center">
  <h2 class="display-4">Productos</h2>
</div>
<hr class="separador-pri w-100" />
<div class="row">
  <div class="col-sm-2">
    <button class="btn bg-pri white" routerLink="/dashprod/producto/form">
      <i class="fas fa-pizza-slice"></i> Agregar
    </button>
  </div>
  <div class="col-sm-2">
    <button class="btn btn-danger white mr-3" (click)="reportePDF()">
      PDF
    </button>
  </div>

  <div class="col-sm-8 text-right">
    <div class="input-group">
      <input
        type="text"
        class="form-control mayusculas"
        #termino
        placeholder="Buscar"
        (keyup)="buscarProducto(termino.value)"
        aria-label="Recipient's username"
        aria-describedby="button-addon2"
      />
      <div class="input-group-append">
        <button class="btn bg-pri text-white" type="button" id="button-addon2">
          Buscar
        </button>
      </div>
    </div>
  </div>
</div>
<br />
<div id="productos">
  <div class="alert alert-info text-center" *ngIf="prodLista?.length == 0">
    No hay Registros
  </div>
  <table
    class="table table-bordered table-striped table-responsive-md text-center"
    *ngIf="prodLista?.length > 0"
  >
    <thead class="bg-pri white">
      <tr>
        <th>Foto</th>
        <th>Nombre</th>
        <th>Precio</th>
        <th>Categoría</th>
        <th>Acción</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let producto of prodLista">
        <td>
          <div class="row justify-content-center">
            <div class="col-sm-12 col-md-12 mt-3">
              <img
                class="img-fluid rounded"
                *ngIf="producto.fotoHashCode"
                alt="Imagen Producto"
                [src]="
                  baseEndpoint +
                  '/img/' +
                  producto.id +
                  '?fotoHashCode=' +
                  producto.fotoHashCode
                "
                style="width: 125px; height: 100px"
              />
              <img
                class="img-fluid rounded"
                *ngIf="!producto.fotoHashCode"
                src="../../../../../assets/img/notproducto.jpg"
                style="width: 70px"
              />
            </div>
          </div>
        </td>
        <td>
          <div class="row justify-content-center">
            <div class="col-sm-6 mt-4">
              {{ producto.nombre | uppercase }}
            </div>
          </div>
        </td>
        <td>
          <div class="row justify-content-center">
            <div class="col-sm-6 mt-4">
              ${{ producto.precio | number: ".2-2" }}
            </div>
          </div>
        </td>
        <td>
          <div class="row justify-content-center">
            <div class="col-sm-6 mt-4">
              {{ producto.categoria.nombre }}
            </div>
          </div>
        </td>
        <td>
          <div class="row justify-content-center">
            <div class="col-sm-3 mt-3 mb-1">
              <button
                class="btn btn-warning btn-sm"
                [routerLink]="['/dashprod/producto/form/', producto.id]"
              >
                <i class="fa fa-edit"></i>
              </button>
            </div>
            <div class="col-sm-3 mt-3">
              <button class="btn btn-danger btn-sm" (click)="delete(producto)">
                <i class="fa fa-trash"></i>
              </button>
            </div>
          </div>
        </td>
      </tr>
    </tbody>
  </table>

  <app-paginador *ngIf="paginator" [paginator]="paginator"></app-paginador>
</div>
