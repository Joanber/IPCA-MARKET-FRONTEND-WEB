<hr class="separador-pri w-100" />
<div class="text-center">
  <h2>Personas</h2>
</div>
<div class="row">
  <div class="col-sm-3">
    <button
      class="btn bg-pri white"
      routerLink="/dashper/personas/form"
      *ngIf="
        authService.hasAnyRoles([
          'ROLE_ADMIN',
          'ROLE_DOCENTE',
          'ROLE_ESTUDIANTE'
        ])
      "
    >
      <i class="fa fa-user-plus mr-1"></i>Nueva Persona
    </button>
  </div>

  <div class="col-sm-9 text-right">
    <div class="input-group">
      <input
        type="text"
        class="form-control mayusculas"
        #termino
        placeholder="Buscar"
        (keyup)="cargarPersonasDefault($event)"
        aria-label="Recipient's username"
        aria-describedby="button-addon2"
      />
      <div class="input-group-append">
        <button
          class="btn bg-pri text-white"
          type="button"
          id="button-addon2"
          (click)="buscarPersona(termino.value)"
        >
          Buscar
        </button>
      </div>
    </div>
  </div>
</div>
<br />
<div>
  <div class="alert alert-info text-center" *ngIf="personas?.length == 0">
    No hay Registros
  </div>
  <div class="table-scroll">
    <table
      class="table table-bordered table-striped table-responsive-sm table-sm text-center"
      *ngIf="personas?.length > 0"
    >
      <thead class="bg-pri white">
        <tr>
          <th>Foto</th>
          <th># Cedula</th>
          <th>Nombre</th>
          <th>Apellido</th>
          <th>Telefono</th>
          <th
            *ngIf="
              authService.hasAnyRoles([
                'ROLE_ADMIN',
                'ROLE_DOCENTE',
                'ROLE_ESTUDIANTE'
              ])
            "
          >
            Editar-Eliminar
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let persona of personas">
          <td>
            <div class="row justify-content-center">
              <div class="col-sm-12 col-md-12 mt-3">
                <img
                  class="img-fluid rounded"
                  *ngIf="persona.fotoHashCode"
                  alt="Imagen Persona"
                  [src]="
                    baseEndpoint +
                    '/img/' +
                    persona.id +
                    '?fotoHashCode=' +
                    persona.fotoHashCode
                  "
                  style="width: 125px; height: 100px"
                />
                <img
                  class="img-fluid rounded"
                  *ngIf="!persona.fotoHashCode"
                  src="../../../../../assets/img/notuser.png"
                  style="width: 70px"
                />
              </div>
            </div>
          </td>
          <td>
            <div class="row justify-content-center">
              <div class="col-sm-6 mt-4">
                {{ persona.cedula }}
              </div>
            </div>
          </td>
          <td>
            <div class="row justify-content-center">
              <div class="col-sm-6 mt-4">
                {{ persona.nombre }}
              </div>
            </div>
          </td>
          <td>
            <div class="row justify-content-center">
              <div class="col-sm-6 mt-4">
                {{ persona.apellido }}
              </div>
            </div>
          </td>
          <td>
            <div class="row justify-content-center">
              <div class="col-sm-6 mt-4">
                {{ persona.telefono }}
              </div>
            </div>
          </td>
          <td
            *ngIf="
              authService.hasAnyRoles([
                'ROLE_ADMIN',
                'ROLE_DOCENTE',
                'ROLE_ESTUDIANTE'
              ])
            "
          >
            <div class="row justify-content-center">
              <div class="col-sm-3 mt-3 mb-1">
                <button
                  class="btn btn-warning btn-sm"
                  [routerLink]="['/dashper/personas/form/', persona.id]"
                >
                  <i class="fa fa-edit"></i>
                </button>
              </div>
              <div class="col-sm-3 mt-3">
                <button class="btn btn-danger btn-sm" (click)="delete(persona)">
                  <i class="fa fa-trash"></i>
                </button>
              </div>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <mat-paginator
    *ngIf="busqueda"
    [length]="totalRegistros"
    [pageSize]="totalPorPagina"
    [pageIndex]="paginaActual"
    (page)="paginar($event)"
    showFirstLastButtons
  >
  </mat-paginator>
</div>

<!--  <app-paginador *ngIf="paginator" [paginator]="paginator"></app-paginador> -->
